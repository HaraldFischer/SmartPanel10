<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui" >
    <h:head>
        <link rel="stylesheet" href="style.css" type="text/css"/>

        <title>Settings</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <script src="javascript.js"/>
        
        
    </h:head>
    <h:body>
        <script>
            var childNode;
            var i;
            window.onload = function(){
                try{
                    childNode = document.getElementById('idform:idnode');
                    childNode.addEventListener('blur',function(){
                      var testNode = new RegExp("^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$");
                      var match = testNode.test(this.value);
                      if (match == true){
                            alert("Node:" + "match");
                      }
                      else{
                          alert("Pattern does not match");
                      }
                    });
                }
                catch(e){
                    alert("Exception:" + e);
                }
                
                try{
                    childNode = document.getElementById('idform:idport');
                    childNode.addEventListener('blur',function(){
                        
                        alert("Port");
                    });
                }
                catch(e){
                    alert("Exception:" + e);
                }
                
                try{
                    childNode = document.getElementById('idform:idaddress');
                    childNode.addEventListener('blur',function(){
                       alert("Address"); 
                    });
                }
                catch(e){
                    alert("Exception:" + e);
                }
                
                try{
                    childNode = document.getElementById('idform:idtimer');
                    childNode.addEventListener('blur',function(){
                        alert("Timer");
                    });                
                }
                catch(e){
                    alert("Exception:" + e);
                }
               
                try{
                    childNode = document.getElementById('idform:idpir');
                    childNode.addEventListener('blur',function(){
                        alert("Pir");
                    });                    
                }
                catch(e){
                    alert("Exception:" + e);
                }
                try{
                    childNode = document.getElementById('idform:idwhite');
                    childNode.addEventListener('blur',function(){
                        alert("White")  ;
                    });                  
                }
                catch(e){
                    alert("Exception:" + e);
                }
            };
        </script>
        <div>
            <h:form id = "idform">
            <p:messages id = "msgs" />
            <p:panelGrid id = "idpanelgrid" columns ="3" styleClass = "settingsgrid">
                
                <h:outputText value="Node:" styleClass = "inputfield" /> 
                <h:inputText  class = "nodeclass" id = "idnode" value = "#{data.getNode()}" styleClass = "inputfield" required = "true" validatorMessage="Value does not match pattern.">
                    <script>
                        
                    </script>
                    <!-- <f:validateRegex pattern = "^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$" /> -->
                    <!-- <f:validateLength minimum = "2" /> -->
                </h:inputText>
                <p:message for = "idnode" display = "icon" />
                
                <h:outputText  value = "Port:" styleClass = "inputfield" /> 
                <h:inputText  id = "idport" value = "#{data.getPort()}" required = "true" styleClass = "inputfield">
                    <f:validateRegex pattern = "" />
                </h:inputText>
                <p:message for = "idport" display = "icon" />
          
                <h:outputText  value = "Address:" styleClass="inputfield" />
                <p:spinner id = "idaddress" size = "2" min = "1" max="10" styleClass="addresssize">
                </p:spinner>
                <p:message for = "idaddress" display = "icon" />
                
                <h:outputText value = "Timer:" styleClass = "inputfield" />
                <h:inputText  id = "idtimer" value = "#{data.getTimer()}" styleClass="inputfield" >
                </h:inputText>
                <p:message for = "idtimer" display = "icon" />
                
                <h:outputText value = "Pir" styleClass="inputfield" />
                <h:inputText id = "idpir" value = "#{data.getPir()}" styleClass = "inputfield" >
                </h:inputText>
                <p:message for = "idpir" display = "icon" />
                
                <h:outputText value = "White" styleClass="inputfield" /> 
                <h:inputText  id = "idwhite" value = "#{data.getWhite()}" styleClass="inputfield" >
                </h:inputText>
                <p:message for = "idwhite" display = "icon" />
                
            </p:panelGrid>
            
            <p:commandButton value = "Save" update = "idpanelgrid" actionListener= "#{nodeValidator.save}" icon="ui-icon-check" />        
            </h:form>
            
            
        </div>
    </h:body>
</html>
