<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" 
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
      
    <h:head>
        <link rel="stylesheet" href="style.css" type="text/css"/>
        <title>Settings</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <script src="javascript.js"/>
        <script>
        </script>
        
    </h:head>
    
    <h:body>
        <script type = "text/javascript" >
        </script>
        
        <div>
            <ui:composition template = "commonLayout.xhtml" >
            <ui:define name= "pagecontent" >
                
                <script>

                    window.onload = function(){
                    };
                    
                    window.onbeforeunload = function(e){
                        if (typeof e === 'undefined'){
                            ${data.showMessage("Undefined")};
                            return null;
                        }
                        
                        else{
                            
                            return "UpdateData";
                        }
                    };
                    
                    
                </script>
                
            <p:layoutUnit position= "center">
            <h:form id = "idform">
            <p:growl id="idmsg" showDetail="true" autoUpdate="true" life="4000" />
            <p:messages id = "idmessages" showDetail = "true" closable = "true" autoUpdate= "true" > 

            </p:messages>

            <p:panelGrid id = "idpanelgrid" columns ="3" styleClass = "settingsgrid">
                   
                <h:outputText value="Node:" styleClass = "inputfield" />                 
                <h:inputText  id = "idnode" value = "#{data.node}"  styleClass = "inputfield" required = "true" requiredMessage = "Node Must Not Be Empty" >
                    <p:ajax  update = "idoutnode"   listener = "#{data.save()}"  />
                    <f:validateBean />
                </h:inputText>
                <h:message for = "idnode" id = "idoutnode" style="color: red"   />
                
                <h:outputText  value = "Port:" styleClass = "inputfield" /> 
                <h:inputText  id = "idport" value = "#{data.port}" required = "true" requiredMessage = "Port Must Not Be Empty" styleClass = "inputfield"  >
                    <p:ajax   update = "idoutport" listener = "#{data.save()}" />
                    <f:validateBean />
                </h:inputText>
                <h:message for = "idport" id = "idoutport" style="color: red" />
                
                <h:outputText  value = "Address:" styleClass="inputfield" />
                <p:inputText id = "idaddress" value = "#{data.address}"  required = "true" requiredMessage = "Address Must Not Be Empty" styleClass="addresssize"  >
                    <p:ajax   update = "idoutaddress" listener = "#{data.save()}" />
                    <f:validateBean />
                </p:inputText>
                <h:message for = "idaddress" id = "idoutaddress" style="color: red" />
               
                <h:outputText value = "Timer:[s]" styleClass = "inputfield" />
                <h:inputText  id = "idtimer" value = "#{data.timer}" required = "true" requiredMessage = "Timer Must Not Be Empty" styleClass="inputfield"  >
                    <p:ajax   update = "idouttimer" listener = "#{data.save()}" />
                    <f:validateBean />
                </h:inputText>
                <h:message for = "idtimer" id = "idouttimer" style="color: red" />
                
                <h:outputText value = "Pir:[s]" styleClass="inputfield" />
                <h:inputText id = "idpir" value = "#{data.pir}" required = "true" requiredMessage = "Pir Must Not Be Empty" styleClass = "inputfield"  >
                    <p:ajax   update = "idoutpir" listener = "#{data.save()}" />
                    <f:validateBean />
                </h:inputText>
                <h:message for = "idpir" id = "idoutpir" style="color: red" />
                
                <h:outputText value = "White" styleClass="inputfield" /> 
                <h:inputText  id = "idwhite" value = "#{data.white}" required = "true" requiredMessage = "White Must Not Be Empty" styleClass="inputfield" >
                    <p:ajax   update = "idoutwhite" listener = "#{data.save()}" />
                    <f:validateBean />
                </h:inputText>
                <h:message for = "idwhite" id = "idoutwhite" style="color: red" />
                
            </p:panelGrid>
                
            <p:commandButton style = "display:none" id = "idcommand" type = "submit" process = "@this" value="Save"   >  
                               
                <f:setPropertyActionListener target = "#{data.node}"    value = "" />
                <f:setPropertyActionListener target = "#{data.port}"    value = "" />
                <f:setPropertyActionListener target = "#{data.address}" value = "" />
                <f:setPropertyActionListener target = "#{data.timer}"   value = "" />
                <f:setPropertyActionListener target = "#{data.pir}"     value = "" />
                <f:setPropertyActionListener target = "#{data.white}"   value = "" />
                
            </p:commandButton>                
            </h:form>
            </p:layoutUnit>
            </ui:define>
            </ui:composition>
        </div>
    </h:body>
</html>
